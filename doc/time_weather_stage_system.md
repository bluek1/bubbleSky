# 시간대별 스테이지 & 날씨 시스템 기획서

## 1. 시스템 개요
현실 시간과 연동하여 아침, 점심, 저녁에 따른 배경 변화와 다양한 날씨 효과를 제공하는 동적 스테이지 시스템입니다.

---

## 2. 시간대별 스테이지 시스템

### 아침 (06:00 - 11:59)
- **테마**: 상쾌하고 희망찬 새벽/아침
- **배경 색상**: 
  - 새벽: 연한 주황/분홍 그라데이션
  - 아침: 밝은 파란 하늘
- **특수 효과**:
  - 떠오르는 태양 애니메이션
  - 모닝글로우 (golden hour) 효과
  - 새소리 BGM
  - 이슬방울 파티클
- **비눗방울 특징**:
  - 약간 더 반짝이는 효과
  - 투명도가 높아 깔끔한 느낌
  - 아침 햇살을 받은 무지개 효과

### 점심 (12:00 - 17:59)
- **테마**: 밝고 활기찬 대낮
- **배경 색상**:
  - 맑은 파란 하늘
  - 흰 구름들이 천천히 이동
- **특수 효과**:
  - 강한 햇빛 광선
  - 구름 그림자 효과
  - 경쾌한 BGM
  - 나비나 꽃잎 파티클
- **비눗방울 특징**:
  - 선명하고 생생한 색상
  - 강한 하이라이트 효과
  - 활발한 움직임 애니메이션

### 저녁 (18:00 - 05:59)
- **테마**: 로맨틱하고 신비로운 저녁/밤
- **배경 색상**:
  - 석양: 주황/빨강 그라데이션
  - 밤: 진한 파랑/보라 그라데이션
- **특수 효과**:
  - 노을 애니메이션
  - 별빛 반짝임
  - 달 움직임
  - 부드러운 야간 BGM
  - 반딧불이 파티클
- **비눗방울 특징**:
  - 부드럽고 몽환적인 광택
  - 별빛을 반사하는 효과
  - 느린 호흡 같은 애니메이션

---

## 3. 날씨 시스템

### 맑음 (기본 날씨)
- **특징**: 각 시간대의 기본 테마
- **효과**: 시간대별 기본 효과 적용
- **비눗방울**: 표준 물리 속성

### 비 오는 날
- **배경 효과**:
  - 빗방울 파티클 애니메이션
  - 구름이 더 어둡고 많음
  - 번개 번쩍임 (천둥번개 시)
- **사운드**: 빗소리 BGM
- **비눗방울 특징**:
  - 물방울 효과 증가
  - 미끄러짐 효과 (낮은 마찰력)
  - 합칠 때 물 튀기는 효과

### 눈 오는 날
- **배경 효과**:
  - 눈송이 파티클
  - 하얀 눈이 쌓이는 애니메이션
  - 차가운 색조 필터
- **사운드**: 고요하고 차분한 BGM
- **비눗방울 특징**:
  - 서리 효과 (가장자리 하얀 테두리)
  - 느린 움직임 (추위 효과)
  - 얼음 결정 파티클

### 바람 부는 날
- **배경 효과**:
  - 구름이 빠르게 이동
  - 나뭇잎이나 꽃잎 파티클
  - 화면 전체 미세한 흔들림
- **사운드**: 바람소리 BGM
- **비눗방울 특징**:
  - 바람에 흔들리는 애니메이션
  - 예측 불가능한 움직임
  - 바람 방향 표시 화살표

### 안개 낀 날
- **배경 효과**:
  - 화면 전체에 안개 오버레이
  - 시야 제한 효과
  - 몽환적인 분위기
- **사운드**: 신비로운 BGM
- **비눗방울 특징**:
  - 흐릿한 테두리 효과
  - 서서히 나타나고 사라지는 애니메이션
  - 신비로운 광택

---

## 4. 시간/날씨 연동 시스템

### 실시간 연동
```
시스템 시간 확인 → 시간대 결정 → 배경 테마 적용
날씨 API 연동 → 현재 날씨 확인 → 날씨 효과 적용
```

### 수동 설정 옵션
- **설정 메뉴**에서 플레이어가 원하는 시간대/날씨 선택 가능
- **즐겨찾기** 기능으로 선호하는 조합 저장
- **랜덤 모드**로 매 게임마다 다른 환경 제공

### 특별 이벤트
- **일출/일몰**: 정확한 일출/일몰 시간에 특별 애니메이션
- **보름달**: 실제 보름달 날에 특별한 달빛 효과
- **계절 변화**: 3개월마다 계절 테마 변경
- **기념일**: 특정 날짜에 특별 테마 (크리스마스, 신정 등)

---

## 5. 캐릭터 반응 시스템

### 시간대별 캐릭터 반응
- **아침**: 비눗방울들이 상쾌하고 활기찬 표정
- **점심**: 밝고 에너지 넘치는 표정
- **저녁**: 차분하고 로맨틱한 표정

### 날씨별 캐릭터 반응
- **비**: 우산 쓴 것 같은 귀여운 표정
- **눈**: 추워서 떨거나 눈을 맞고 즐거워하는 표정
- **바람**: 머리카락이 날리는 듯한 효과
- **안개**: 신비로워하거나 약간 무서워하는 표정

---

## 6. 게임플레이 영향

### 시간대별 특성
- **아침**: 정확도 보너스 (+5% 명중률)
- **점심**: 속도 보너스 (+10% 발사 속도)
- **저녁**: 점수 보너스 (+15% 기본 점수)

### 날씨별 특성
- **맑음**: 표준 물리 속성
- **비**: 미끄러짐 증가 (마찰력 -20%)
- **눈**: 움직임 둔화 (중력 -15%)
- **바람**: 랜덤 바람 저항 (±10% 각도 변화)
- **안개**: 시야 제한 (투명도 효과)

---

## 7. UI/UX 요소

### 시간/날씨 표시
- **상단 바**: 현재 시간과 날씨 아이콘
- **배경 전환**: 부드러운 트랜지션 애니메이션
- **미니맵**: 실시간 날씨 레이더 (선택사항)

### 설정 메뉴
- **자동/수동 모드** 토글
- **시간대 선택** 슬라이더
- **날씨 선택** 버튼들
- **효과 강도** 조절 슬라이더

---

## 8. 기술적 구현 방안

### 시간 시스템
```swift
enum TimeOfDay {
    case morning    // 06:00-11:59
    case afternoon  // 12:00-17:59
    case evening    // 18:00-05:59
}

enum WeatherType {
    case sunny, rainy, snowy, windy, foggy
}
```

### 날씨 API 연동
- **OpenWeatherMap API** 활용
- **로컬 캐시**로 오프라인 대응
- **기본 날씨** 패턴 프리셋

### 배경 시스템
- **레이어 구조**: 하늘 → 구름 → 효과 → UI
- **파티클 시스템**: 날씨별 파티클 효과
- **색상 팔레트**: 시간대별 동적 색상 변경

---

## 9. 추가 확장 아이디어

### 계절 시스템
- **봄**: 벚꽃 파티클, 연한 분홍 테마
- **여름**: 강한 햇살, 시원한 파란 테마
- **가을**: 낙엽 파티클, 따뜻한 주황 테마
- **겨울**: 눈송이, 차가운 흰색 테마

### 지역별 테마
- **도시**: 빌딩 실루엣, 도시 조명
- **바다**: 파도 애니메이션, 갈매기 소리
- **숲**: 나무 실루엣, 새소리
- **산**: 산 실루엣, 바람소리

### 특별 모드
- **오로라 모드**: 극지방 오로라 효과
- **우주 모드**: 별자리와 행성들
- **판타지 모드**: 마법적인 효과들

---

이 시스템을 통해 플레이어는 매번 다른 분위기에서 게임을 즐길 수 있으며, 현실과 연동된 몰입감 있는 경험을 제공받을 수 있습니다.